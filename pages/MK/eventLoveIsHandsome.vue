<template>
  <div class="contents"><!-- 레이아웃 설명 /ko/guide/Structure 참고 -->
    <div class="content-wrap">
      <div class="event-detail">
        <div class="e-title type2"><!-- 230110 단순클릭응모형 : type2 클래스 추가 -->
          <h4>앱 다운로드 이벤트</h4>
          <v-layout align-center>
            <div class="cmp-labels">
              <span class="label black">종료</span>
            </div>
            <p>2021.12.07 ~ 2021.12.26</p>
          </v-layout>
        </div>
        <!-- [퍼블작업]23.04.20 이벤트 작업 영역 -->
        <div class="html-area" style="text-align:center;">
          <div class="pc-event2023-mayevent">
            <div class="visual_cover">
              <div class="e-d-video">
                <video poster="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/visual_poster.jpg" autoplay="autoplay" muted preload="auto" controls="controls" loop playsinline="playsinline" controlsList="nodownload">
                  <source src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/visual.mp4" type="video/mp4">
                </video>
              </div>
              <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/visual_1.jpg" alt="5월 가정의 달 기념 더한섬닷컴 X 작가 그레타프리든/ LOVE IS HANDSOME / 2023. 5.3(수) - 5.12(금), 10일간" />
            </div>
            <div class="tab_menu">
              <div class="tab_menu_cover">
                <ul class="list">
                  <li class="is_on">
                    <a href="#tab1" class="btn">
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab01new.png" alt="최대 7만원 할인" />
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab01new_on.png" class="on" alt="최대 7만원 할인" />
                    </a>
                  </li>
                  <li>
                    <a href="#tab2" class="btn">
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab02.png" alt="피크닉 Set 사은품" />
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab02_on.png" class="on" alt="피크닉 Set 사은품" />
                    </a>
                  </li>
                  <li>
                    <a href="#tab3" class="btn">
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab03.png" alt="e-Gift Card 페이백" />
                      <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/top_tab03_on.png" class="on" alt="e-Gift Card 페이백" />
                    </a>
                  </li>
                </ul>
              </div>
              
              <div class="cont_area">
                <div id="tab1" class="cont">
                  <div class="center_cover tab01-cpn">
                    <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab01_img01.jpg" alt="가정의 달 기념 쿠폰 말하지 않아도 알지만, 그래도 5월엔 소중한 사람들에게 표현해보세요! / 30만원 이상 / 50만원 이상" />
                  </div>
                  <!-- 쿠폰영역 -->
                  <div id="pc-event2023-mayevent-coupon">
                  </div>
                  <!-- 쿠폰영역 -->
                  <div class="bestgift">
                    <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab01_btmimg.jpg" alt="#최고의선물 선물 추천 리워드 어떤 선물이 좋을지 고민돼서 검색 중인 분들에게 선물을 추천하고 리워드를 받아보세요  스타일 / 토크 게시판에 선물 추천하고 #최고의선물을 태그해주세요! /[1만원] 최고의 선물 추천 리워드/ · 쇼핑백 쿠폰 적용 후 추가 할인 가능 · 아울렛 제외  게시 기간 5월 3일 ~ 5월 7일 (5일간) 리워드 1차 5월 4일,  2차 5월 9일 / 스타일라이브 해시태그 작성 방법 ‘#’은 자동으로 작성되며, 띄어쓰기 없이 ‘최고의선물’만 작성 후 스페이스바 / 엔터 누르면 완료 " />
                  </div>
                  <div class="swiper_cover">
                    <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab01-swiper-title.jpg" alt="따뜻한 메시지와 마음을 전해보세요 해당 이벤트 기간 선물하기 서비스 이용 시 더한섬닷컴 X 작가 GRETA FRIEDEN 아트웍이 담긴 디지털 카드와 함께 메시지가 발송됩니다!" />
                    <div id="mayfamilly-swiper01">
                      <!-- 보여지는 영역 -->
                      <div class="swiper-wrapper">
                        <!-- div class="swiper-slide" 를 추가하면된다 -->
                        <div class="swiper-slide">
                          <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab01-swiper-01.png" alt="이미지를 지원하지 않습니다." />
                        </div>
                        <div class="swiper-slide">
                          <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab01-swiper-02.png" alt="이미지를 지원하지 않습니다." />
                        </div>
                      </div>
                      <!-- 방향 버튼 상황에 따라 추가 삭제가능 -->
                      <div class="swiper-button-prev tab01"></div>
                      <div class="swiper-button-next tab01"></div>
                    </div>
                  </div>
                </div>
                <div id="tab2" class="cont">
                  <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab03_img01.jpg" alt="피크닉 SET 사은품 80만원 이상 구매 시 아트웍이 프린팅된 피크닉 SET(피크닉 백 & 매트)를 드려요. (선착순 500명) " />
                  <div class="swiper_cover">
                    <div id="mayfamilly-swiper02">
                      <!-- 보여지는 영역 -->
                      <div class="swiper-wrapper">
                        <!-- div class="swiper-slide" 를 추가하면된다 -->
                        <div class="swiper-slide">
                          <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab02_swiper01.jpg" alt="이미지를 지원하지 않습니다." />
                        </div>
                        <div class="swiper-slide">
                          <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab02_swiper02.jpg" alt="이미지를 지원하지 않습니다." />
                        </div>
                      </div>
                      <!-- 방향 버튼 상황에 따라 추가 삭제가능 -->
                      <div class="swiper-button-prev tab02"></div>
                      <div class="swiper-button-next tab02"></div>
                    </div>
                  </div>
                  <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/tab03_img02.jpg" alt="* 선착순 500명 * 실결제 금액 합산 기준 ID당 1회 지급  " />
                </div>
                <div id="tab3" class="cont">
                  <div class="center_cover tab_cover04">
                    <a href="https://www.thehandsome.com/ko/GC/giftCardList">e-Gift Card 선물 바로 가기 </a>
                    <img src="https://img.thehandsome.com/md/publish/event/20230418_mayfamilly/pc/egift-card-img.jpg" alt="가정의 달 기념 e-Gift Card  스페셜 발행 & 혜택 받는 분이 취향에 따라 직접 선물을 고를 수 있게 e-Gift Card를 선물해보세요." />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- {{ couponArea }} -->
          <!-- <script>

            window.initEvent = function() {
            // TODO: 적용 스크립트 입력
              
            };


          </script> -->
          <script>
            new Swiper('#mayfamilly-swiper01', {
              autoplay: false,
              speed: 300, //swiper 흐르는속도
              loop: true,
              loopAdditionalSlides : 1,
              // 슬라이드 반복 시 마지막 슬라이드에서 다음 슬라이드가 보여지지 않는 현상 수정
              allowTouchMove: true, // 터치 방지
              slidesPerView: 1,
              spaceBetween: 0,
              centeredSlides: true,
              pagination: {
                el: '.swiper-pagination',
                clickable: true
              },
              navigation: {
                prevEl: '.swiper-button-prev.tab01',
                nextEl: '.swiper-button-next.tab01'
              }
            })
            new Swiper('#mayfamilly-swiper02', {
              autoplay: false,
              speed: 300, //swiper 흐르는속도
              loop: true,
              loopAdditionalSlides : 1,
              // 슬라이드 반복 시 마지막 슬라이드에서 다음 슬라이드가 보여지지 않는 현상 수정
              allowTouchMove: true, // 터치 방지
              slidesPerView: 1,
              spaceBetween: 0,
              centeredSlides: true,
              pagination: {
                el: '.swiper-pagination',
                clickable: true
              },
              navigation: {
                prevEl: '.swiper-button-prev.tab02',
                nextEl: '.swiper-button-next.tab02'
              }
            })
            document.getElementById('pc-event2023-mayevent-coupon').appendChild(document.querySelector('.cpn-list'));
          </script>
          <style type="text/css">
            .pc-event2023-mayevent .swiper-wrapper {transition-timing-function: linear;}
            .pc-event2023-mayevent .visual_cover{position:relative;}
            .pc-event2023-mayevent .visual_cover .e-d-video{position: absolute; top: 23.55%; left: 50%; transform: translate(-50%,0); width: 62.6%; height: auto;}
            .pc-event2023-mayevent .visual_cover .e-d-video video{display:block; width:100%; height:100%;}

            .pc-event2023-mayevent .tab01-cpn{position: relative;max-width:1200px; margin:0 auto;}
            .pc-event2023-mayevent .tab01-cpn button{position: absolute; width: 428px; height: 68px; text-indent: -9999px; font-size: 0; bottom: 151px;}
            .pc-event2023-mayevent .tab01-cpn button.cpn_btn01{left: 154px;}
            .pc-event2023-mayevent .tab01-cpn button.cpn_btn02{right: 130px;}

            .pc-event2023-mayevent .bestgift{position:relative;background: #f3f7fa;}
            .pc-event2023-mayevent .bestgift img{display:block;max-width:1200px; margin:0 auto;}

            .pc-event2023-mayevent .tab_menu{position:relative;}
            .pc-event2023-mayevent .tab_menu .tab_menu_cover{background:#04310f;}
            .pc-event2023-mayevent .tab_menu .list{overflow:hidden; display: flex; align-items: center; max-width: 1200px; margin: 0 auto;}
            .pc-event2023-mayevent .tab_menu .list li{position: relative; width: calc(100% / 3);}
            .pc-event2023-mayevent .tab_menu .list li a{display: block;}
            .pc-event2023-mayevent .tab_menu .list li::after{content: ""; display:block; position:absolute; width: 1px; height: 50px; top: 50%; left: 0; background: #335b3a; transform: translateY(-50%);}
            .pc-event2023-mayevent .tab_menu .list li:first-child::after{content: ""; display:none;}
            .pc-event2023-mayevent .tab_menu .list li.is_on{background:#ff39a2;}
            .pc-event2023-mayevent .tab_menu .list li.is_on::after,
            .pc-event2023-mayevent .tab_menu .list li.is_on + li::after{display:none;}
            .pc-event2023-mayevent .tab_menu .list li .btn{}
            .pc-event2023-mayevent .tab_menu .list li .btn img{margin: 0 auto;}
            .pc-event2023-mayevent .tab_menu .list li .btn img.on{display:none;}
            .pc-event2023-mayevent .tab_menu .list li.is_on .btn img{display:none;}
            .pc-event2023-mayevent .tab_menu .list li.is_on .btn img.on{display:block;}

            .pc-event2023-mayevent .tab_menu .cont_area{}
            .pc-event2023-mayevent .tab_menu .cont_area .cont{display:none; width:100%; height:auto;}
            
            .pc-event2023-mayevent .swiper_cover{position: relative;}
            .pc-event2023-mayevent .swiper_cover #mayfamilly-swiper01{max-width:447px; margin:0 auto; overflow: hidden;}
            .pc-event2023-mayevent .swiper_cover #mayfamilly-swiper02{max-width:700px; margin:0 auto; overflow: hidden;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-prev,
            .pc-event2023-mayevent .swiper_cover .swiper-button-next{opacity: 1; background: unset;top:calc(50% + 140px); color: transparent; font-size: 0; width: 44px;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-prev.tab01{left: 27.5%;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-next.tab01{right: 27.5%;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-prev.tab02,
            .pc-event2023-mayevent .swiper_cover .swiper-button-next.tab02{top: 50%;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-prev.tab02{left: 21.5%;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-next.tab02{right: 21.5%;}
            .pc-event2023-mayevent .swiper_cover .swiper-button-prev:after,
            .pc-event2023-mayevent .swiper_cover .swiper-button-next:after{filter: invert(0);}

            .pc-event2023-mayevent .radio_event{background:#f9f4eb;}
            .pc-event2023-mayevent .radio_event .radio_area{width: 1200px; margin: 0 auto; position: relative;}
            .pc-event2023-mayevent .radio_event .radio_cover{display:flex;flex-wrap: wrap;justify-content: center; position: absolute; width: 500px; right: 50px; top: 200px;}
            .pc-event2023-mayevent .radio_event .radio_cover .radio{width: 245px; margin-bottom: 10px;}
            .pc-event2023-mayevent .radio_event .radio_cover .radio:nth-child(2n){margin-left:10px;}
            .pc-event2023-mayevent .radio_event .radio_cover input{position: absolute; opacity: 0;}
            .pc-event2023-mayevent .radio_event .radio_cover label{position: relative;display: block;}
            .pc-event2023-mayevent .radio_event .radio_cover input:checked+label:after{content: ""; display:block; position:absolute; width: 100%; height: 100%; top: 0; left: 0; border:2px solid #000;}
            .pc-event2023-mayevent .radio_event .radio_btn{display: block; margin: 0 auto; padding-bottom: 100px; width: 395px;}

            .pc-event2023-mayevent .radio_event .radio_eventpopup{display: none; position:fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: 15; background-color: rgb(0 0 0 / 30%);}
            .pc-event2023-mayevent .radio_event .radio_eventpopup .popup_cover{position: absolute; top: 50%; transform: translate(-50%,-50%); padding: 0; width: 100%; max-width: 450px; left: 50%;}
            .pc-event2023-mayevent .radio_event .radio_eventpopup .popup_cover button,
            .pc-event2023-mayevent .radio_event .radio_eventpopup .popup_cover a{position:absolute;text-indent: -9999px; font-size: 0;}

            .pc-event2023-mayevent .radio_event .radio_eventpopup.popup_true .popup_cover button.close_btn,
            .pc-event2023-mayevent .radio_event .radio_eventpopup.popup_true .popup_cover .move_btn{width: 190px; bottom: 40px; height: 75px;}
            .pc-event2023-mayevent .radio_event .radio_eventpopup.popup_true .popup_cover button.close_btn{right: 30px;}
            .pc-event2023-mayevent .radio_event .radio_eventpopup.popup_true .popup_cover .move_btn{left:30px;}
            .pc-event2023-mayevent .radio_event .radio_eventpopup.popup_false .popup_cover .close_btn{width: 390px; bottom: 40px; height: 75px;left: 30px;}

            .pc-event2023-mayevent .radio_event .radio_eventpopup .popup_cover .top{width: 55px; height: 55px; top: 15px; right: 15px;}

            .pc-event2023-mayevent .center_cover{display:block;}
            .pc-event2023-mayevent .center_cover img{display:block;max-width:1200px; margin:0 auto;}

            .pc-event2023-mayevent .tab_cover04{position:relative;}
            .pc-event2023-mayevent .tab_cover04 a{position:absolute;text-indent: -9999px; font-size: 0; bottom: 127px; width: 396px; left: 50%; transform: translate(-50%, 0); height: 90px;}
          </style>
          <!-- html 등록 영역 끝 -->
        </div>
        <!-- //[퍼블작업]23.04.20 이벤트 작업 영역 -->
        <div class="swiper-wrap">
          <div class="cmp-sub-tit">
            <h3 class="tit">최신 이벤트</h3>
          </div>
          <div class="cmp-swiper-box btn-large search-swiper">
            <Swiper
              :options="{
                slidesPerView: 5,
                slidesPerGroup : 5,
                spaceBetween: 25,
                navigation: {
                  prevEl: '.planshop-prev-btn',
                  nextEl: '.planshop-next-btn',
                },
              }"
              :class="{'swiper-no-swiping':eventList.list.length <= 5}"
            >
              <SwiperSlide v-for="(item, index) in eventList.list" :key="index">
                <div class="swiper-unit">
                  <nuxt-link to="#none">
                    <v-img src="https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png" aspect-ratio="1" alt="상품 이미지"></v-img>
                    <p class="swiper-title">{{item.title}}</p>
                    <p class="swiper-text">{{item.date}}</p>
                  </nuxt-link>
                </div>
              </SwiperSlide>
            </Swiper>
            <template v-if="eventList.list.length > 5">
              <div slot="button-prev" class="swiper-button-prev swiper-no-swiping planshop-prev-btn"><i v-cmp-icon="{size:32, name:'prev', invert:1}">이전</i></div>
              <div slot="button-next" class="swiper-button-next swiper-no-swiping planshop-next-btn"><i v-cmp-icon="{size:32, name:'next', invert:1}">다음</i></div>
            </template>
          </div>       
        </div>
        <div class="bottom-btn">
          <v-btn large outlined color="primary" class="html-btn gray-outlined">목록</v-btn><!-- [퍼블수정]23.01.26 class gray-outlined 추가 -->
        </div>
      </div>

    </div>
    <script src="/scripts/event-detail-swiper.js"></script><!-- 230224 이벤트 : html script 추가 -->
  </div>
</template>

<script>
import { Swiper, SwiperSlide } from 'vue-awesome-swiper'

export default {
  layout: 'LayoutBasics',
  components : {
    Swiper,
    SwiperSlide,
  },  
  data: () => ({
    eventList : { // swiper data
      list:[
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '앱 다운로드 이벤트',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제 더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '앱 다운로드 이벤트',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '앱 다운로드 이벤트',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '앱 다운로드 이벤트',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
        {
          image : 'https://img.thehandsome.com/md/publish/dummy/pc/event/event1.png',
          title : '더한섬닷컴 X 스마일페이 12월 첫 결제',
          date : '2022.12.08 ~ 2022.12.26',
          link : '#n',
        },
      ],
    },         
  }),
  mounted() {
    const tabList = document.querySelectorAll('.tab_menu .list li');
    const contents = document.querySelectorAll('.tab_menu .cont_area .cont')
    let activeCont = '#tab1'; // 현재 활성화 된 컨텐츠 (기본:#tab1 활성화)

    document.querySelector(activeCont).style.display = 'block';
    for(let i = 0; i < tabList.length; i++){
      tabList[i].querySelector('.btn').addEventListener('click', function(e){
        e.preventDefault();
        for(let j = 0; j < tabList.length; j++){
          // 나머지 버튼 클래스 제거
          tabList[j].classList.remove('is_on');

          // 나머지 컨텐츠 display:none 처리
          contents[j].style.display = 'none';
        }

        // 버튼 관련 이벤트
        this.parentNode.classList.add('is_on');

        // 버튼 클릭시 컨텐츠 전환
        activeCont = this.getAttribute('href');
        document.querySelector(activeCont).style.display = 'block';
      });
    }
  },
  // [퍼블작업]23.04.20 이벤트 작업 
  methods: {
  }
}
</script>
<style lang="scss">
 @import '@/assets/scss/pages/event.scss';
</style>
